<services>
  <service name="tar_scm" mode="disabled">
    <param name="url">git://github.com/crowbar/barclamp-<%= name %>.git</param>
    <param name="scm">git</param>

    <param name="exclude">.git</param>
    <param name="exclude">.gitreview</param>

    <param name="filename">crowbar-barclamp-<%= name %></param>

    <!-- Format string which gets passed to git log via the pretty option -->
    <param name="versionformat">2.0+git.%ct.%h</param>

    <param name="revision">master</param>
  </service>

  <!-- The recompress source service compresses the newest tarball generated by tar_scm. -->
  <service name="recompress" mode="disabled">
    <param name="file">crowbar-barclamp-<%= name %>-2.0*git*.tar</param>
    <param name="compression">bz2</param>
  </service>

  <!-- The set_version source service rewrites the Version: header in the .spec file. -->
  <service name="set_version" mode="disabled">
    <!--
       Omit version parameter and specify basename in order to
       autodetect version from tarball generated by tar_scm service.
       Unfortunately this requires the '-git' suffix because of a
       limitation in set-version, in order to distinguish between
       tarballs of git snapshots and release tarballs.
      -->
    <param name="basename">crowbar-barclamp-<%= name %></param>
  </service>

</services>
